<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.32.1">
    <meta name="project" content="Nostrum v0.9.0">


    <title>Introduction — Nostrum v0.9.0</title>
    <link rel="stylesheet" href="dist/html-elixir-2C5PUTIB.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-IHH6HKET.js"></script>
    <script src="dist/sidebar_items-F09595C4.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-GXQ6W6IF.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://github.com/Kraigie/nostrum" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Nostrum" />
        </a>

      <div>
        <a href="https://github.com/Kraigie/nostrum" class="sidebar-projectName" translate="no">
Nostrum
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.9.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Nostrum</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/Kraigie/nostrum/blob/master/guides/intro/intro.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Introduction</span>
  </h1>

<p>nostrum is an Elixir library that can be used to interact with Discord.</p><p>To see documentation about a specific part of the library, please visit one of
the following:</p><ul><li><a href="api.html">API</a> - Methods to interact with the RESTful API (and some other goodies).</li><li><a href="state.html">State</a> - Caches that keep information from Discord fresh at your disposal.</li><li><a href="events.html">Events</a> - Handling events from Discord as they come in.</li><li><a href="voice.html">Voice</a> - Playing audio through Discord voice channels.</li></ul><h2 id="setup" class="section-heading">
  <a href="#setup" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Setup</span>
</h2>
<p>There are two versions of nostrum, a stable version released on Hex and a dev
version on GitHub. The dev version will be more up to date but will likely
have more errors.</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">deps</span><span class="w"> </span><span class="k" data-group-id="3760503733-1">do</span><span class="w">
  </span><span class="p" data-group-id="3760503733-2">[</span><span class="p" data-group-id="3760503733-3">{</span><span class="ss">:nostrum</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.9&quot;</span><span class="p" data-group-id="3760503733-3">}</span><span class="p" data-group-id="3760503733-2">]</span><span class="w">
  </span><span class="c1"># Or, for bleeding edge changes:</span><span class="w">
  </span><span class="c1"># [{:nostrum, github: &quot;Kraigie/nostrum&quot;}]</span><span class="w">
</span><span class="k" data-group-id="3760503733-1">end</span></code></pre><p>Next up, you need to configure nostrum. The most basic configuration is simply
setting a token to log in with:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:nostrum</span><span class="p">,</span><span class="w">
  </span><span class="ss">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;666&quot;</span><span class="w">  </span><span class="c1"># The token of your bot as a string</span></code></pre><h2 id="configuration-options" class="section-heading">
  <a href="#configuration-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configuration options</span>
</h2>
<p>Apart from the <code class="inline">token</code> field mentioned above, the following fields are also supported:</p><ul><li><code class="inline">num_shards</code> - the amount of shards to run. Can be one of the following:<ul><li><code class="inline">:auto</code>: use the suggested amount of shards as provided by Discord.</li><li><em><code class="inline">num</code></em>: a number of shards to run. nostrum will warn if this is not the
recommended amount.</li><li><code class="inline">{lowest, highest, total}</code>: start shards <code class="inline">lowest</code> to <code class="inline">highest</code>. <code class="inline">total</code>
should contain the total amount of shards that your bot is expected to have.
Useful for splitting a single bot across multiple servers, but see also <a href="multi_node.html">the
multi-node documentation</a>.</li></ul></li><li><code class="inline">gateway_intents</code> - a list of atoms representing gateway intents for Nostrum
to subscribe to from the Discord API. More information can be found in the
<a href="gateway_intents.html">gateway intents</a> documentation page.</li><li><code class="inline">request_guild_members</code> - perform member chunking to retrieve a complete list
of members for all guilds at startup. Depending on your <a href="pluggable_caching.html">cache
backend</a>, this may increase startup time
and memory usage by quite a bit. Defaults to <code class="inline">false</code>.</li></ul><h3 id="voice-specific" class="section-heading">
  <a href="#voice-specific" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Voice-specific</span>
</h3>
<ul><li><code class="inline">ffmpeg</code> - Specifies the path to the <code class="inline">ffmpeg</code> executable for playing audio.
Defaults to <code class="inline">&quot;ffmpeg&quot;</code>.</li><li><code class="inline">youtubedl</code> - Specifies the path to the <code class="inline">youtube-dl</code> executable for playing
audio with youtube-dl support. Defaults to <code class="inline">&quot;youtube-dl&quot;</code>.</li><li><code class="inline">streamlink</code> - Specifies the path to the <code class="inline">streamlink</code> executable for playing
livestream audio with streamlink support. Defaults to <code class="inline">&quot;streamlink&quot;</code>.</li><li><code class="inline">audio_timeout</code> - Milliseconds that input must begin generating audio by
upon invoking <code class="inline">play</code>. More information about this option can be found in the
<a href="./voice.html">voice</a> documentation page. Defaults to <code class="inline">20_000</code> (20s).</li><li><code class="inline">audio_frames_per_burst</code> - Number of opus frames to send at a time while
playing audio. More information about this option can be found in the
<a href="./voice.html">voice</a> documentation page. Defaults to <code class="inline">10</code>.</li><li><code class="inline">voice_auto_connect</code> - This will determine if Nostrum automatically connects
to voice websockets gateways upon joining voice channels. If set to <code class="inline">false</code>
but you still wish to connect to the voice gateway, you can do so manually
by calling <a href="Nostrum.Voice.html#connect_to_gateway/1"><code class="inline">Nostrum.Voice.connect_to_gateway/1</code></a> after joining a voice
channel. Defaults to <code class="inline">true</code>.</li></ul><h3 id="development-debugging" class="section-heading">
  <a href="#development-debugging" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Development &amp; debugging</span>
</h3>
<ul><li><code class="inline">log_full_events</code> - This will log the full payload received over the
websocket. Defaults to <code class="inline">false</code>.</li><li><code class="inline">log_dispatch_events</code> - This will log dispatch events as they are received
from the gateway. Defaults to <code class="inline">false</code>.</li><li><code class="inline">fullsweep_after_default</code> - Sets the <code class="inline">fullsweep_after</code> flag for processes
that can have irregularly high memory usage due to Discord payloads. This
options will dramatically reduce the amount of memory used by some processes
at the cost of increased CPU usage. This is useful if you're running your
application under a memory constrained environment. This comes at the cost
of increased CPU usage. By default, this option will only affect some
processes. You can set this flag for <em>all</em> processes using environment
variables or by <a href="http://erlang.org/doc/man/erlang.html#system_flag-2">setting the system flag
yourself</a>. Defaults to
whatever your system recommends, which is probably <code class="inline">65535</code>.</li></ul><h3 id="internal-options" class="section-heading">
  <a href="#internal-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Internal options</span>
</h3>
<p>The following options are only used for testing nostrum itself.</p><ul><li><code class="inline">dev</code> - This is added to enable Nostrum to be run completely stand alone for
development purposes. <code class="inline">true</code> will cause Nostrum to spawn its own event
consumers. If you have the dev flag set to true while running Nostrum
alongside your application some of your events will be consumed. Defaults to
<code class="inline">false</code>.</li></ul><h2 id="logging" class="section-heading">
  <a href="#logging" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Logging</span>
</h2>
<p>nostrum uses Elixir's standard logger to inform you about regular and irregular
events. Normal messages include Discord-requested shard reconnections and the
<code class="inline">IDENTIFY</code> and <code class="inline">READY</code> events.</p><p>The following metadata fields through logger:</p><ul><li><code class="inline">shard</code> - Id of the shard on which the event occurred</li><li><code class="inline">guild</code> - Name of the guild on which the voice connection event occurred</li><li><code class="inline">channel</code> - Name of the channel on which the voice connection event occurred</li></ul><p>To enable this metadata, logger can be configured as such:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:logger</span><span class="p">,</span><span class="w"> </span><span class="ss">:console</span><span class="p">,</span><span class="w">
  </span><span class="ss">metadata</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6494064991-1">[</span><span class="ss">:shard</span><span class="p">,</span><span class="w"> </span><span class="ss">:guild</span><span class="p">,</span><span class="w"> </span><span class="ss">:channel</span><span class="p" data-group-id="6494064991-1">]</span></code></pre><p>For more information on how this works, and how to change the logging
configuration for nostrum on its own, please see the <a href="https://hexdocs.pm/logger/Logger.html">Logger
documentation</a></p><h3 id="why-elixir" class="section-heading">
  <a href="#why-elixir" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Why Elixir?</span>
</h3>
<p>From the Elixir website -</p><blockquote><p>Elixir is a dynamic, functional language designed for building scalable and
maintainable applications.</p></blockquote><blockquote><p>Elixir leverages the Erlang VM, known for running low-latency, distributed
and fault-tolerant systems, while also being successfully used in web
development and the embedded software domain.</p></blockquote><p><strong>How does Nostrum leverage these benefits?</strong></p><ul><li><p><strong>Fault tolerance</strong>: nostrum attempts, where reasonable, to allow for
different parts of the application to fail with minimal harm. Supervisors are
used heavily to ensure that anything that breaks will be restarted. Nostrum
attempts to avoid most errors, but if they do occur (<em>and they will!</em>) it
shouldn't be the end of the world.</p></li><li><p><strong>Concurrency</strong> - Concurrency is considered to be a first class citizen in
Elixir. Through the use of SMP and processes, information should travel
through the application quickly.</p></li><li><p><strong>Distributed</strong>: nostrum does not currently support full distribution of all
components out of the box - that would fall out of the scope of the library.
However, see the <a href="multi_node.html">multi-node</a> document for
provided functionality. </p></li></ul><h2 id="example-bots" class="section-heading">
  <a href="#example-bots" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example bots</span>
</h2>
<ul><li><p>A simple bot that consumes events from the gateway can be found <a href="https://github.com/Kraigie/nostrum/blob/master/examples/event_consumer.ex">at
<code class="inline">examples/event_consumer.ex</code></a>.</p></li><li><p>An example bot that plays audio through voice channels can be found <a href="https://github.com/Kraigie/nostrum/blob/master/examples/audio_player_example.ex">at
<code class="inline">examples/audio_player_example.ex</code></a>.</p></li><li><p>A properly structured bot with commands utilizing
<a href="https://github.com/jchristgit/nosedrum">nosedrum</a> can be found <a href="https://github.com/kshannoninnes/sample_bot">in this
GitHub repository</a></p></li><li><p>A rather large and complex bot, bolt, can be found
<a href="https://github.com/jchristgit/bolt">here</a>.</p></li></ul><!-- vim: set textwidth=80 sw=2 ts=2: -->
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="api.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
API
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/nostrum/0.9.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/nostrum/0.9.0">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/nostrum/0.9.0/show/guides/intro/intro.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Nostrum.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.32.1) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>


  </body>
</html>
